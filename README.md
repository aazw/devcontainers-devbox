# DevContainers with Devbox

Pre-built Docker images for Dev Containers using Devbox as the package manager.

See also: <https://github.com/aazw/devcontainers> (previous version)

## Motivations

- Centralize devcontainer configurations that are duplicated across projects (DRY principle)
- Reduce build time by providing pre-built images that can be pulled when needed
- Ensure build reliability by catching build failures in CI rather than during local development

## Images

### Base image

Common base image for DevContainers. This serves as the foundation for all other images.

| Docker Hub | Source | Includes |
|------------|--------|----------|
| [aazw/devcontainers-devbox-base:13](https://hub.docker.com/r/aazw/devcontainers-devbox-base)     | [images/base](./images/base/)     | Base image |

### Single-language images

Images with a specific language and related tools added to the Base image.

| Docker Hub | Source | Includes |
|------------|--------|----------|
| [aazw/devcontainers-devbox-go:10](https://hub.docker.com/r/aazw/devcontainers-devbox-go)         | [images/go](./images/go/)         | Base + Go |
| [aazw/devcontainers-devbox-python:7](https://hub.docker.com/r/aazw/devcontainers-devbox-python) | [images/python](./images/python/) | Base + Python |
| [aazw/devcontainers-devbox-rust:8](https://hub.docker.com/r/aazw/devcontainers-devbox-rust)     | [images/rust](./images/rust/)     | Base + Rust |
| [aazw/devcontainers-devbox-java:7](https://hub.docker.com/r/aazw/devcontainers-devbox-java)     | [images/java](./images/java/)     | Base + Java |
| [aazw/devcontainers-devbox-swift:13](https://hub.docker.com/r/aazw/devcontainers-devbox-swift)   | [images/swift](./images/swift/)   | Base + Swift |
| [aazw/devcontainers-devbox-js:6](https://hub.docker.com/r/aazw/devcontainers-devbox-js)         | [images/js](./images/js/)         | Base + JavaScript |

### Multi-language images

Images generated by programmatically merging the `devbox.json` files from multiple Single-language images.  
Use these when you need a development environment with multiple languages in a single image.

| Docker Hub | Source | Includes |
|------------|--------|----------|
| [aazw/devcontainers-devbox-go-js:6](https://hub.docker.com/r/aazw/devcontainers-devbox-go-js)         | [images/go-js](./images/go-js/)         | Base + Go + JavaScript |
| [aazw/devcontainers-devbox-python-js:6](https://hub.docker.com/r/aazw/devcontainers-devbox-python-js) | [images/python-js](./images/python-js/) | Base + Python + JavaScript |

### Specific-purpose images

| Docker Hub | Source | Includes |
|------------|--------|----------|
| [aazw/devcontainers-devbox-bi:2](https://hub.docker.com/r/aazw/devcontainers-devbox-bi) | [images/bi](./images/bi/) | Base + BI |

## How to use

### Shell

```bash
# base
docker pull aazw/devcontainers-devbox-base:latest

# go
docker pull aazw/devcontainers-devbox-go:latest

# python
docker pull aazw/devcontainers-devbox-python:latest

# rust
docker pull aazw/devcontainers-devbox-rust:latest

# java
docker pull aazw/devcontainers-devbox-java:latest

# swift
docker pull aazw/devcontainers-devbox-swift:latest

# js
docker pull aazw/devcontainers-devbox-js:latest
```

### DevContainer

```json
// .devcontainer/devcontainer.json
{
    ...

    "image": "aazw/devcontainers-devbox-base:latest",

    ...
}
```

## References

### Dev Container

- Development Containers | Reference  
  <https://containers.dev/implementors/json_reference/>
- GitHub | Development Containers Images  
  <https://github.com/devcontainers/images>
- Visual Studio Code | Dev Container CLI  
  <https://code.visualstudio.com/docs/devcontainers/devcontainer-cli>

### DevBox

- Portable, Isolated Dev Environments on any Machine  
  <https://www.jetify.com/devbox>
- Instant, easy, and predictable development environments  
  <https://github.com/jetify-com/devbox>
- Devbox docs  
  <https://www.jetify.com/docs/devbox>
- Nix Packages collection & NixOS  
  <https://github.com/NixOS/nixpkgs>
- NixOS Search - Packages  
  <https://search.nixos.org/packages>
- Nixhub.io | Find the Right Nix Package for your Project
  <https://www.nixhub.io/>
  
### Renovate

- Renovate | Custom Manager Support using Regex | Advanced Capture  
  <https://docs.renovatebot.com/modules/manager/regex/#advanced-capture>
- Renovate | Self-Hosted configuration  
  <https://docs.renovatebot.com/self-hosted-configuration/>
- Renovate | Configuration Options | group  
  <https://docs.renovatebot.com/configuration-options/#group>
